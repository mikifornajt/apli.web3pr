@page
@model CW5OCENA.Pages.KsiazkaModel
@{
    ViewData["Title"] = "Ksiazka";
}

<h2 class="text-center mb-4 text-dark">Formularz ksiazki</h2>

<div class="row">
    <div class="col-md-6">
        <div class="card shadow">
            <div class="card-header bg-warning text-dark">
                <h5>Formularz GET</h5>
            </div>
            <div class="card-body">
                <form method="get" id="formGet">
                    <div class="mb-2">
                        <label>Autor</label>
                        <input type="text" class="form-control" name="autor" required />
                    </div>
                    <div class="mb-2">
                        <label>Tytul</label>
                        <input type="text" class="form-control" name="tytul" required />
                    </div>
                    <div class="mb-2">
                        <label>Rok</label>
                        <input type="text" class="form-control" name="rok" required />
                    </div>
                    <div class="mb-2">
                        <label>Gatunek</label>
                        <select class="form-select" name="gatunek" required>
                            <option value="">wybierz</option>
                            <option>Fantastyka</option>
                            <option>Kryminal</option>
                            <option>Romans</option>
                            <option>Horror</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-warning w-100">Wyslij</button>
                </form>
                
                @if (!string.IsNullOrEmpty(Model.Msg1))
                {
                    <div class="alert alert-warning mt-2">@Model.Msg1</div>
                }
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card shadow">
            <div class="card-header bg-success text-white">
                <h5>Formularz POST</h5>
            </div>
            <div class="card-body">
                <form method="post" id="formPost">
                    <div class="mb-2">
                        <label>Autor</label>
                        <input type="text" class="form-control" name="autor" required />
                    </div>
                    <div class="mb-2">
                        <label>Tytul</label>
                        <input type="text" class="form-control" name="tytul" required />
                    </div>
                    <div class="mb-2">
                        <label>Rok</label>
                        <input type="text" class="form-control" name="rok" required />
                    </div>
                    <div class="mb-2">
                        <label>Gatunek</label>
                        <select class="form-select" name="gatunek" required>
                            <option value="">wybierz</option>
                            <option>Fantastyka</option>
                            <option>Kryminal</option>
                            <option>Romans</option>
                            <option>Horror</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-success w-100">Wyslij</button>
                </form>
                
                @if (!string.IsNullOrEmpty(Model.Msg2))
                {
                    <div class="alert alert-success mt-2">@Model.Msg2</div>
                }
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('formGet').addEventListener('submit', function(e) {
        var rok = document.querySelector('#formGet input[name="rok"]').value;
        if (isNaN(rok) || rok < 1000 || rok > 2025) {
            alert('Rok musi byc liczba od 1000 do 2025');
            e.preventDefault();
        }
    });
    
    document.getElementById('formPost').addEventListener('submit', function(e) {
        var rok = document.querySelector('#formPost input[name="rok"]').value;
        if (isNaN(rok) || rok < 1000 || rok > 2025) {
            alert('Rok musi byc liczba od 1000 do 2025');
            e.preventDefault();
        }
    });
</script>